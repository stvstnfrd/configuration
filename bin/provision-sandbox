#!/usr/bin/env python
# -*- coding: utf-8 -*-
"""
Provision an EC2 instance for use as an OpenEdX sandbox
"""
import argparse


def parse_arguments():
    parser = argparse.ArgumentParser(
        description=__doc__,
    )
    parser.add_argument(
        '-n',
        '--instance-name',
        required=True,
    )
    parser.add_argument(
        '-d',
        '--disk-size',
        default=16,
    )
    parser.add_argument(
        '-t',
        '--terminate',
        default=False,
        action='store_true',
    )
    parser.add_argument(
        '-c',
        '--create',
        default=False,
        action='store_true',
    )
    parser.add_argument(
        '-l',
        '--list',
        default=True,
        action='store_true',
    )
    parser.add_argument(
        '-s',
        '--start',
        default=False,
        action='store_true',
    )
    parser.add_argument(
        '-S',
        '--stop',
        default=False,
        action='store_true',
    )
    parser.add_argument(
        '-A',
        '--ami',
        default='ami-b06717d0',
    )
    arguments = parser.parse_args()
    return arguments


def main(arguments):
    print('ansible-playbook ./edx_sandbox.yml --private-key=~/.ssh/ubuntu')
    print(arguments)
    if arguments.terminate:
        print('TODO: destroy')
    elif arguments.stop:
        print('TODO: stop')
    if arguments.create:
        print('TODO: create')
    elif arguments.start:
        print('TODO: start')
    if arguments.list:
        print('TODO: list')

if __name__ == '__main__':
    arguments = parse_arguments()
    main(arguments)
